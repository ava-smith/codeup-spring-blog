<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/partials :: head('Post Details')"></head>
<body>
<div id="wrapper">
    <nav th:replace="partials/partials :: nav"></nav>
    <header th:replace="partials/partials :: header(${post.title})"></header>
    <main class="container">
        <p th:text="${post.body}"></p>
        <p>The user's email: <span th:text="${post.user.email}"></span></p>
        <form th:action="@{|/posts/${post.id}/edit|}" th:method="GET" sec:authorize="isAuthenticated()">
            <button th:if="${#authentication.principal.id == post.user.id}" type="submit" class="btn btn-primary">Edit post</button>
        </form>
    </main>
    <footer th:replace="partials/partials :: footer"></footer>
</div>
<th:block th:replace="partials/partials :: scripts"></th:block>
</body>